{%if settings.dgHomeLink === true%}
    <nav class="navbar">
        <div class="navbar-inner">
            <a href="/" style="text-decoration: none;">
                <h1 style="margin: 15px !important;">{{meta.siteName}}</h1>
            </a>
            <button onclick="goBack()" class="back-button">⬅ Torna Indietro</button>
            <script>
            function goBack() {
                sessionStorage.setItem("scrollPosition", window.scrollY);
                history.back(); // Torna alla pagina precedente
            }
            </script>
        </div>
        {% if settings.dgEnableSearch === true%}
            {% include "components/searchButton.njk" %}
        {%endif%}
    </nav>
{%else%}
    <div class="empty-navbar">
        {% if settings.dgEnableSearch === true%}
            {% include "components/searchButton.njk" %}
        {%endif%}
    </div>
{%endif%}

<script>
document.addEventListener("DOMContentLoaded", function () {
    // Quando l'utente clicca su un link, salva la posizione dello scroll
    document.querySelectorAll("a").forEach(link => {
        link.addEventListener("click", function () {
            sessionStorage.setItem("scrollPosition", window.scrollY);
        });
    });

    // Quando la pagina si carica, controlla se c'è una posizione salvata
    if (sessionStorage.getItem("scrollPosition") !== null) {
        window.scrollTo(0, sessionStorage.getItem("scrollPosition"));
        sessionStorage.removeItem("scrollPosition"); // Rimuove la posizione dopo il caricamento
    }
});
</script>
