---
{"dg-publish": true, "permalink": "/credit-risk-site/Modello-CreditMetrix/"}
---





## *Definizione*
Modello proposto dalla JP Morgan nel 1997.
L'obiettivo è determinare la *distribuzione del valore futuro* di un portafoglio di crediti.
Questo modello tiene conto anche del ==rischio di migrazione== e del ==rischio di recupero==. Parzialmente anche del rischio di spread.
Il modello lavora in due step:
- *Determina* per ciascun debito il suo *valore futuro*, solitamente ad un anno. In questa fase ci concentriamo quindi sul trovare la distribuzione di probabilità della variabile "valore futuro ad un anno" per ogni esposizione.
- *Aggrega le singole esposizioni* tenendo conto della dipendenza tra le varie esposizioni.

## *Valore ad un anno*
Si segue la logica della valutazione di mercato, per la precisione:
- Si reperiscono sul mercato i tassi d'interesse che corrispondono alle classi di rischio cui potrà, tra un anno, appartenere il debitore. Più alto è il rating più basso è il tasso rischiesto.
- Il valore dell'esposizione tra un anno corrisponde al valore futuro che questa esposizione avrà sul mercato. Per calcolare questo valore futuro si attualizza il valore dell'esposizione usando come tasso d'interesse quello corrispondente a ciascuna classe di rating. Quindi ad esempio se l'esposizione varrà un tot se l'emittente sarà in classe AA e varrà di meno se l'emittente sarà in classe A. Si procede quindi a vedere il valore in ogni possibile scenario.
- Le classi di rischio sono rappresentate da una scala di rating, per ciascuno dei rating ci saranno tassi d'interesse diversi. Questi tassi ci aiuteranno a capire il valore al quale si potrà vendere il debito a mercato.
- Sfruttando una matrice di transizione si calcolerà la probabilità che il debitore finisca in una classe o nell'altra, capendo così quanto è probabile che ogni valore stimato dell'esposizione si verifichi. Ad esempio l'emittente scende da AA ad un rating A, con il valore del suo debito che passa da 70.000 a 60.000. Dovremmo associare una probabilità al fatto che il valore effettivamente possa diventare 60.000 e ciò lo faremo vedendo la probabilità di migrazione da un rating all'altro.
- L'evento default viene gestito separatamente tenendo conto della casualità del tasso di recupero. Quindi il valore del debito in caso di default viene calcolato separatamente in base alla probabilità che si verifichi un certo tasso di recupero.

Il *primo ingrediente* che ci serve è la scala di rating e la ==matrice di transizione==.
![Pasted image 20230530151903.png](/img/user/Credit%20Risk%20_site/allegati/Pasted%20image%2020230530151903.png)

Il *secondo ingrediente* sono i ==tassi pagati== associati a ciascun rating.
Questi tassi ci dicono che prendendo un debitore di una certa classe di rating quel è il tasso d'interesse annuo che la banca richiede per un prestito che ha scadenza tra 1 anno, 2 anni ecc
![Pasted image 20230530152128.png](/img/user/Credit%20Risk%20_site/allegati/Pasted%20image%2020230530152128.png)

Il *terzo ingrediente* è la distribuzione di probabilità del ==[[Credit Risk _site/permalink/tasso di recupero\|tasso di recupero]]== $R$.
Il modello Credit Matrics sceglie la [[Credit Risk _site/permalink/Variabile casuale Beta\|Variabile casuale Beta]] i cui parametri possono essere stimati usando il metodo dei momenti partendo da informazioni come quelle in tabella.
![Pasted image 20230530154531.png](/img/user/Credit%20Risk%20_site/allegati/Pasted%20image%2020230530154531.png)
![Pasted image 20230530152842.png](/img/user/Credit%20Risk%20_site/allegati/Pasted%20image%2020230530152842.png)

## *Un esempio*
<style> .container {font-family: sans-serif; text-align: center;} .button-wrapper button {z-index: 1;height: 40px; width: 100px; margin: 10px;padding: 5px;} .excalidraw .App-menu_top .buttonList { display: flex;} .excalidraw-wrapper { height: 800px; margin: 50px; position: relative;} :root[dir="ltr"] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left {transform: none;} </style><script src="https://cdn.jsdelivr.net/npm/react@17/umd/react.production.min.js"></script><script src="https://cdn.jsdelivr.net/npm/react-dom@17/umd/react-dom.production.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@excalidraw/excalidraw@0/dist/excalidraw.production.min.js"></script><div id="Modello_CreditMetrix_2023-05-30_1536.33.excalidraw.md1"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://excalidraw.com","elements":[{"type":"image","version":68,"versionNonce":90849999,"isDeleted":false,"id":"-fLq-D5OQC8tlCyuM0aZL","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-312.69407141963137,"y":-216.56322352784798,"strokeColor":"transparent","backgroundColor":"transparent","width":626.5068104418018,"height":431.79095332521126,"seed":382123119,"groupIds":[],"roundness":null,"boundElements":[],"updated":1685453799859,"link":null,"locked":false,"status":"pending","fileId":"dacfa94f60b447e506dea41a76c3583a3fa51506","scale":[1,1]},{"type":"text","version":241,"versionNonce":909884655,"isDeleted":false,"id":"uP1UDbCv","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":296.0325698852539,"y":-1.7027206420898438,"strokeColor":"#e67700","backgroundColor":"transparent","width":247,"height":84,"seed":258692513,"groupIds":[],"roundness":null,"boundElements":[{"id":"De5dPAGoT3vBSHIerBE4H","type":"arrow"}],"updated":1685453980420,"link":null,"locked":false,"fontSize":13.49287766676683,"fontFamily":1,"text":"Con le informazioni sui tassi\nposso stimare il valore ad un anno\ndi un'esposizione che passa\nin fascia A. Ogni anno che passa\navrà il suo tasso di attualizzazione","rawText":"Con le informazioni sui tassi\nposso stimare il valore ad un anno\ndi un'esposizione che passa\nin fascia A. Ogni anno che passa\navrà il suo tasso di attualizzazione","baseline":79,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"Con le informazioni sui tassi\nposso stimare il valore ad un anno\ndi un'esposizione che passa\nin fascia A. Ogni anno che passa\navrà il suo tasso di attualizzazione"},{"type":"arrow","version":192,"versionNonce":706612609,"isDeleted":false,"id":"De5dPAGoT3vBSHIerBE4H","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":337.977552507382,"y":85.12212841327371,"strokeColor":"#e67700","backgroundColor":"transparent","width":150.02884492681557,"height":43.40436847393332,"seed":264111713,"groupIds":[],"roundness":{"type":2},"boundElements":[],"updated":1685453980421,"link":null,"locked":false,"startBinding":{"elementId":"uP1UDbCv","focus":0.43834131216927585,"gap":2.8248490553635577},"endBinding":null,"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-15.654211137753066,36.10145099346457],[-138.34409150884682,43.40436847393332],[-150.02884492681557,39.75287921612082]]},{"type":"text","version":329,"versionNonce":352257359,"isDeleted":false,"id":"5VAMHF3o","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":312.86295318603516,"y":142.6000084510216,"strokeColor":"#e67700","backgroundColor":"transparent","width":268,"height":50,"seed":1387530817,"groupIds":[],"roundness":null,"boundElements":[{"id":"ODvEpUrSVqi2RVibUy4TZ","type":"arrow"}],"updated":1685453931035,"link":null,"locked":false,"fontSize":13.49287766676683,"fontFamily":1,"text":"Grazie alla matrice di transizione posso\ncalcolare la probabilità che quel valore\nstimato si verifichi effettivamente","rawText":"Grazie alla matrice di transizione posso\ncalcolare la probabilità che quel valore\nstimato si verifichi effettivamente","baseline":46,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"Grazie alla matrice di transizione posso\ncalcolare la probabilità che quel valore\nstimato si verifichi effettivamente"},{"type":"arrow","version":88,"versionNonce":2043759873,"isDeleted":false,"id":"ODvEpUrSVqi2RVibUy4TZ","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":309.9083023071289,"y":184.87866973876953,"strokeColor":"#e67700","backgroundColor":"transparent","width":243.18890380859375,"height":14.605926513671875,"seed":1991593967,"groupIds":[],"roundness":{"type":2},"boundElements":[],"updated":1685453935676,"link":null,"locked":false,"startBinding":{"elementId":"5VAMHF3o","focus":-0.2700081004464335,"gap":2.95465087890625},"endBinding":null,"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-216.16790771484375,13.145263671875],[-243.18890380859375,14.605926513671875]]},{"id":"Dzv5MyivkST0AjV7Kqzjm","type":"image","x":557.637444631976,"y":-33.06510475971254,"width":273.2092972132032,"height":131.61907748957233,"angle":0,"strokeColor":"transparent","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"roundness":null,"seed":1272352047,"version":71,"versionNonce":358973871,"isDeleted":false,"boundElements":null,"updated":1685453999761,"link":null,"locked":false,"status":"pending","fileId":"fa33c6bb6c427a9ba1a45a018179371a529677c7","scale":[1,1]},{"id":"GtYj5pMW2_0DVo3TlWvBO","type":"ellipse","x":620.4855945532106,"y":31.44164091518141,"width":25.46750380179003,"height":10.269143130852058,"angle":0,"strokeColor":"#d9480f","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":0.5,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"roundness":{"type":2},"seed":533165007,"version":34,"versionNonce":1809422927,"isDeleted":false,"boundElements":null,"updated":1685454029362,"link":null,"locked":false},{"id":"rV1jhpq90WQ4kNrDjxYA_","type":"ellipse","x":672.6528464641519,"y":30.620121823546214,"width":29.575133590057476,"height":15.198326340846421,"angle":0,"strokeColor":"#d9480f","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":0.5,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"roundness":{"type":2},"seed":2041041569,"version":23,"versionNonce":359848257,"isDeleted":false,"boundElements":null,"updated":1685454019555,"link":null,"locked":false},{"id":"FsuPunp4WhjaTMrQWQj06","type":"ellipse","x":726.8739304342728,"y":32.67393671767999,"width":26.699816769334348,"height":13.144511446712642,"angle":0,"strokeColor":"#d9480f","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":0.5,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"roundness":{"type":2},"seed":1387468623,"version":26,"versionNonce":945455009,"isDeleted":false,"boundElements":null,"updated":1685454021084,"link":null,"locked":false},{"id":"cGk8Sm4PMd0LhuPiXcwEY","type":"ellipse","x":775.3443807629473,"y":32.263211501954004,"width":34.09348859405111,"height":12.322958024985837,"angle":0,"strokeColor":"#d9480f","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":0.5,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"roundness":{"type":2},"seed":1883735791,"version":21,"versionNonce":777680943,"isDeleted":false,"boundElements":null,"updated":1685454024740,"link":null,"locked":false},{"id":"mm3l2j-kJQ7WcX_1qxmf9","type":"image","x":586.3480511623367,"y":118.53719488576971,"width":258.516216213921,"height":94.20740998149317,"angle":0,"strokeColor":"transparent","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":0.5,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"roundness":null,"seed":225409135,"version":171,"versionNonce":1600070991,"isDeleted":false,"boundElements":null,"updated":1685454057481,"link":null,"locked":false,"status":"pending","fileId":"44dab24aef0b623555921eef5f5ab19559b125ec","scale":[1,1]},{"id":"sGkEeUlrUyfrPCRzMLKoN","type":"ellipse","x":673.8398988271622,"y":171.77897805221912,"width":17.619810016799647,"height":8.361937602749975,"angle":0,"strokeColor":"#d9480f","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":0.5,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"roundness":{"type":2},"seed":772514671,"version":28,"versionNonce":1855069537,"isDeleted":false,"boundElements":null,"updated":1685454069630,"link":null,"locked":false}],"appState":{"theme":"light","viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#d9480f","currentItemBackgroundColor":"transparent","currentItemFillStyle":"hachure","currentItemStrokeWidth":0.5,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","scrollX":-237.70896806627746,"scrollY":-17.127014398379345,"zoom":{"value":1.6544911475205257},"currentItemRoundness":"round","gridSize":null,"colorPalette":{}},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("Modello_CreditMetrix_2023-05-30_1536.33.excalidraw.md1");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>
Questo lavoro si deve fare per tutte le fasce di rating possibili, calcolandone valore futuro per ogni classe in cui potrebbe finire l'azienda e mettendolo assieme alla probabilità che si verifichi.
Otteniamo così la distribuzione di probabilità della variabile "Valore ad un anno del prestito"
![Pasted image 20230530154329.png|350](/img/user/Credit%20Risk%20_site/allegati/Pasted%20image%2020230530154329.png)
Il valore di default è calcolato utilizzando la media del tasso di recupero calcolata su varie esposizioni finite in default.

![[Esercizio Credit Metrics .mp4]]

Possiamo anche considerare un tasso di recupero non fisso ma con la sua distribuzione di probabilità.
![[Esercizio Credit Metrics tasso di recupero .mp4]]

## *I rating congiunti*
Una volta fatto questo procedimento per una esposizione va ripetuto per tutte quante per poi metterle assieme e definira la variabile "valore di portafoglio".
La somma di tutte quante le esposizioni ha certe cratteristiche, che cambiano se le esposizioni sono indipendenti oppure dipendenti.

Credit metrics approccia questo problema osservando le *azioni dei debitori* quotati in borsa, utilizzando il valore dell'azione come proxy del valore dell'azienda.
Se i rendimenti azionari sono alti associamo una situazione florida dell'azienda e di conseguenza un merito creditizio alto.
Dal comportamento congiunto dei rendimenti desumo il comportamento congiunto delle migrazioni nelle varie fasce di rating.

Sapendo la distribuzione di probabilità dei rendimenti essa si suddivide in tanti intervalli determinati in modo che ogniuno rappresenti la probabilità di transizione nelle varie fasce, presa dalla matrice di transizione.
<div id="Modello_CreditMetrix_2023-05-31_1706.04.excalidraw.md2"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://excalidraw.com","elements":[{"type":"image","version":76,"versionNonce":351513679,"isDeleted":false,"id":"-8OlweYCjw7m98uHwtIdL","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-319.84683548000453,"y":-235.76509857177734,"strokeColor":"transparent","backgroundColor":"transparent","width":694.688070984423,"height":444.13203639341197,"seed":625157967,"groupIds":[],"roundness":null,"boundElements":[],"updated":1685545645580,"link":null,"locked":false,"status":"pending","fileId":"ec36342f3a7430166df03adc2338a379406636dd","scale":[1,1]},{"id":"xvHAsTpKvbw2vOtcFAAnD","type":"freedraw","x":-18.36580775334295,"y":-58.083018504202954,"width":185.94473031850964,"height":222.45964637169467,"angle":0,"strokeColor":"#e67700","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":20,"groupIds":[],"roundness":null,"seed":1836534383,"version":374,"versionNonce":403489985,"isDeleted":false,"boundElements":null,"updated":1685545660472,"link":null,"locked":false,"points":[[0,0],[1.1235163762019056,0],[10.111788236177858,-4.494159405048066],[17.414785531850953,-7.864755483774047],[23.594219501201906,-10.111835186298066],[26.96481557992786,-11.79713322566107],[28.08833195612982,-12.358891413762024],[28.650090144230774,-12.358891413762024],[29.77365347055286,-13.482431265024047],[30.89716984675482,-14.605947641225953],[34.267765925480774,-16.291269155649047],[37.076603816105774,-17.976567195012024],[38.20012019230768,-19.66184175931491],[38.76192533052887,-19.66184175931491],[38.76192533052887,-20.223623422475953],[39.885441706730774,-22.47067964993991],[40.447199894831726,-24.156001164362976],[39.885441706730774,-22.47067964993991],[39.885441706730774,-21.90892146183893],[36.51484562800482,-17.414785531850953],[30.89716984675482,-10.111835186298066],[20.223623422475953,3.370572603665863],[7.302950345552858,17.414738581730774],[-2.808837890625,30.33538818359375],[-8.988224909855774,38.20012019230768],[-8.988224909855774,38.76187838040866],[-6.741192157451906,38.20012019230768],[1.6853215144230944,31.458904559795656],[15.167705829326906,19.661818284254792],[28.08833195612982,8.988248384915863],[39.32368351862982,-1.685321514423066],[44.941359299879764,-6.179457444411071],[45.50311748798072,-7.302997295673066],[45.50311748798072,-5.055917593149047],[45.50311748798072,-2.247079702524047],[41.57076322115387,3.370572603665863],[35.95308743990387,13.48238431490384],[29.211848332331726,21.90887451171875],[28.650090144230774,22.470656174879792],[30.335458608774047,19.661818284254792],[36.51484562800482,12.358844463641816],[43.81779597355768,1.6852745643028868],[51.12079326923072,-7.864755483774047],[54.49138934795678,-12.358891413762024],[53.929584209735594,-11.2353515625],[53.36782602163464,-11.2353515625],[49.99727689302881,-5.61767578125],[42.694279597355774,6.179410494290863],[33.14424954927887,21.90887451171875],[23.594219501201906,37.076580341045656],[19.66181828425482,43.25601431039664],[21.908944936899047,42.13247445913461],[23.032414362980774,41.57071627103366],[31.458928034855774,37.076580341045656],[43.256037785456726,30.33538818359375],[54.49138934795678,23.594172551081726],[49.435471754807736,28.650090144230774],[39.32368351862982,35.95304048978366],[23.594219501201906,44.94131234975961],[5.61767578125,53.929584209735566],[-7.302950345552858,58.985478327824524],[-7.302950345552858,59.547259990985566],[-9.550030048076906,59.547259990985566],[-7.864755483774047,55.61488224909854],[4.494112454927858,45.503070537860566],[17.414785531850953,35.39128230168268],[17.976543719951906,34.267742450420656],[17.414785531850953,35.95304048978366],[12.920626126802858,41.57071627103366],[5.055917593149047,52.24428617037259],[-5.055917593149047,65.16491229717545],[-12.920626126802858,74.71494234525241],[-16.291222205528868,78.64732008713943],[-17.976543719951906,80.89437631460336],[-17.976543719951906,81.45615797776443],[-20.785381610576906,85.38851224459134],[-20.785381610576906,87.07381028395432],[-20.785381610576906,88.75910832331729],[-20.785381610576906,94.93854229266825],[-21.34713979867786,98.30916184645432],[-21.908897986778868,99.99445988581729],[-20.223576472355774,98.30916184645432],[-19.100060096153868,95.50032395582932],[-18.53830190805286,95.50032395582932],[-18.53830190805286,96.62384033203122],[-20.785381610576906,102.24151611328122],[-25.27949406550482,111.22978797325717],[-29.211848332331726,121.34162315955527],[-30.89716984675482,126.39749380258414],[-30.89716984675482,126.95929894080527],[-30.89716984675482,127.52101017878604],[-29.77365347055286,128.082768366887],[-26.403057391826906,126.95929894080527],[-24.717735877403868,126.39749380258414],[-24.15597768930286,125.83573561448318],[-24.15597768930286,126.95929894080527],[-24.15597768930286,128.64457350510818],[-25.27949406550482,137.07104022686295],[-28.08833195612982,144.935795710637],[-32.020686222956726,152.2387930063101],[-34.829524113581726,157.8564687875601],[-34.829524113581726,158.41818002554086],[-34.829524113581726,158.97993821364182],[-34.829524113581726,160.1035015399639],[-34.829524113581726,160.6653066781851],[-36.51484562800482,164.03585580679086],[-38.76192533052887,167.96821007361777],[-39.885394756610594,171.9006112905649],[-39.885394756610594,173.02412766676682],[-39.885394756610594,173.58588585486777],[-39.885394756610594,175.27120736929086],[-39.885394756610594,177.5182870718149],[-39.885394756610594,180.3271249624399],[-38.76192533052887,182.57415771484372],[-33.70600773737982,185.38299560546872],[-25.27949406550482,185.38299560546872],[-15.729464017427858,185.38299560546872],[-10.673546424278868,185.38299560546872],[-10.673546424278868,186.50651198167063],[-10.673546424278868,187.06827016977164],[-9.550030048076906,187.06827016977164],[-5.61767578125,187.06827016977164],[-1.1235163762019056,187.06827016977164],[6.741192157451906,187.06827016977164],[14.044189453125,187.06827016977164],[14.605947641225953,187.06827016977164],[15.167705829326906,187.06827016977164],[15.167705829326906,188.19183349609372],[16.291269155649047,189.31534987229563],[20.785381610576906,191.00067138671872],[29.211848332331726,191.00067138671872],[39.885441706730774,191.00067138671872],[44.37960111177887,191.00067138671872],[44.941359299879764,191.00067138671872],[44.941359299879764,191.5624765249399],[49.435471754807736,194.3713144155649],[52.244309645432736,194.3713144155649],[64.04141939603369,194.3713144155649],[78.08556189903845,194.3713144155649],[91.5679931640625,193.2477041391226],[92.12975135216345,193.2477041391226],[92.12975135216345,192.12418776292063],[93.81502591646631,192.68594595102164],[94.3768310546875,192.68594595102164],[98.3091853215144,194.3713144155649],[102.80329777644226,194.3713144155649],[108.98273174579322,194.3713144155649],[115.72392390324524,194.3713144155649],[116.28572904146631,194.3713144155649],[118.53276179387024,194.3713144155649],[120.21808330829322,194.3713144155649],[124.71219576322119,194.3713144155649],[130.3298715444712,194.3713144155649],[133.70046762319714,193.80950927734372],[134.82403094951917,192.68594595102164],[134.82403094951917,191.5624765249399],[137.0710637019231,188.19183349609372],[139.8799015925481,183.69767409104563],[143.25049767127405,177.5182870718149],[145.4975773737981,172.46236947866586],[145.4975773737981,170.21528977614182],[145.4975773737981,169.65353158804086],[145.4975773737981,169.0917733999399],[145.4975773737981,164.03585580679086],[145.4975773737981,161.22701791616586],[145.4975773737981,156.17110032301682],[143.81230280949524,151.6769878680889],[139.8799015925481,150.553471491887],[131.45343487079322,149.99171330378604],[118.53276179387024,149.99171330378604],[103.36505596454322,149.99171330378604],[84.82675405649036,149.99171330378604],[84.2649958683894,149.99171330378604],[85.38855919471155,148.8681499774639],[87.63559194711536,144.935795710637],[86.51207557091345,144.935795710637],[82.0179631159856,147.744633601262],[78.08556189903845,149.99171330378604],[70.22085336538464,153.362309382512],[65.1649357722356,154.4858257587139],[64.60317758413464,154.4858257587139],[66.2884521484375,150.553471491887],[71.34436974158655,144.935795710637],[90.44442983774036,123.02689772385818],[90.44442983774036,122.46513953575717],[89.8826716496394,121.90333439753604],[85.9503173828125,121.90333439753604],[78.6473200871394,123.02689772385818],[74.7149658203125,123.58865591195914],[74.7149658203125,122.46513953575717],[74.7149658203125,121.34162315955527],[76.4002873347356,116.84746375450717],[78.6473200871394,109.5444899338942],[78.6473200871394,107.85919189453122],[78.6473200871394,105.61211219200717],[77.5238037109375,105.61211219200717],[73.02969125600964,105.61211219200717],[67.9737736628606,105.61211219200717],[60.10901817908655,107.29745718149039],[57.861985426682736,107.29745718149039],[57.30022723858178,107.29745718149039],[56.17666391225964,103.9268141526442],[58.98550180288464,88.19735013521634],[58.98550180288464,87.63561542217545],[58.98550180288464,85.95029390775241],[53.929584209735594,85.38851224459134],[49.99727689302881,85.38851224459134],[43.81779597355768,85.38851224459134],[39.885441706730774,85.38851224459134],[38.76192533052887,85.38851224459134],[38.20012019230768,82.57967435396634],[38.20012019230768,78.64732008713943],[38.20012019230768,71.90612792968747],[38.20012019230768,65.16491229717545],[38.20012019230768,63.47961425781247],[35.95308743990387,62.35607440655045],[32.58249136117786,62.35607440655045],[34.829524113581726,57.8619384765625],[37.638362004206726,52.24428617037259],[38.76192533052887,48.311908428485566],[39.32368351862982,46.06485220102164],[39.32368351862982,44.94131234975961],[38.20012019230768,44.94131234975961],[34.267765925480774,44.94131234975961],[32.020686222956726,44.94131234975961],[31.458928034855774,44.37955416165866],[33.70600773737982,39.885418231670656],[38.76192533052887,34.829524113581726],[44.941359299879764,28.088308481069703],[52.244309645432736,13.48238431490384],[48.31195537860572,11.797086275540863],[43.81779597355768,11.235304612379792],[42.13252140925482,11.235304612379792],[41.57076322115387,10.111788236177887],[42.694279597355774,5.05587064302884],[44.941359299879764,0.5617347130408632],[46.626633864182736,-3.370619553786071],[47.75015024038464,-9.550053523137024],[48.31195537860572,-14.605947641225953],[48.31195537860572,-16.291269155649047],[49.99727689302881,-17.976567195012024],[51.68255145733178,-20.785381610576934],[55.053147536057736,-25.841299203725953],[53.36782602163464,-25.841299203725953],[52.244309645432736,-25.27951754056491],[51.68255145733178,-24.71775935246393],[51.12079326923072,-23.594219501201934],[51.12079326923072,-16.85300386868991],[51.12079326923072,-14.605947641225953],[51.68255145733178,-9.550053523137024],[61.23262845552881,2.808837890625],[71.34436974158655,8.988248384915863],[82.0179631159856,11.797086275540863],[83.70323768028845,12.358844463641816],[83.70323768028845,12.920602651742797],[83.70323768028845,16.852980393629792],[82.57972130408655,19.661818284254792],[80.89439978966345,25.841252253605774],[79.2091252253606,33.14420259915866],[78.6473200871394,48.311908428485566],[82.0179631159856,53.36782602163461],[83.1414794921875,54.49134239783652],[85.38855919471155,55.61488224909854],[85.9503173828125,56.176640437199524],[87.63559194711536,57.8619384765625],[88.7591552734375,61.794316218449495],[90.44442983774036,65.72669396033652],[92.12975135216345,71.34434626652646],[94.93858924278845,78.64732008713943],[98.3091853215144,86.51205209585336],[101.67978140024036,93.81502591646634],[103.9268611027644,99.43267822265622],[105.61213566706726,103.36505596454325],[107.29745718149036,107.29745718149039],[108.98273174579322,108.42095008263217],[109.54448993389417,108.98270827073318],[111.79156963641822,111.22978797325717],[114.60040752704322,113.47686767578122],[119.09456693209131,115.16214224008414],[123.58867938701917,116.28570556640622],[129.20635516826917,116.28570556640622],[130.89162973257214,116.28570556640622],[132.01519305889417,116.28570556640622],[133.1387094350962,114.03862586388217],[133.1387094350962,112.91510948768027],[133.1387094350962,112.3533278245192],[133.1387094350962,111.22978797325717],[133.1387094350962,110.66802978515622],[133.1387094350962,109.5444899338942],[135.38578913762024,104.48861929086539],[137.0710637019231,102.24151611328122],[137.0710637019231,101.1179762620192],[138.19462702824524,99.99445988581729],[141.00346491887024,96.62384033203122],[144.3740609975962,93.81502591646634],[145.4975773737981,92.69148606520432],[146.05933556189905,92.12972787710336],[146.05933556189905,93.25329120342545],[146.05933556189905,93.81502591646634],[146.05933556189905,97.74738018329325],[145.4975773737981,101.67978140024039],[144.3740609975962,105.61211219200717],[143.81230280949524,108.42095008263217],[143.25049767127405,110.66802978515622],[143.25049767127405,111.22978797325717],[143.25049767127405,112.91510948768027],[143.25049767127405,114.60038405198318],[143.25049767127405,115.72394737830527],[143.25049767127405,116.84746375450717],[143.25049767127405,119.09454345703122],[143.25049767127405,120.21805983323318],[143.25049767127405,121.34162315955527],[143.25049767127405,122.46513953575717],[143.25049767127405,123.58865591195914],[143.81230280949524,127.52101017878604],[143.81230280949524,132.01516958383414],[143.81230280949524,133.700444148137],[143.81230280949524,136.509282038762],[143.81230280949524,140.4416363055889],[143.81230280949524,142.68871600811295],[143.25049767127405,147.18287541316104],[142.12698129507214,153.362309382512],[141.5652231069712,157.8564687875601],[141.00346491887024,161.78877610426682],[141.00346491887024,163.4741445688101],[140.44165978064905,166.2829355093149],[140.44165978064905,169.0917733999399],[140.44165978064905,169.65353158804086],[140.44165978064905,170.21528977614182],[140.44165978064905,172.46236947866586],[140.44165978064905,174.14764404296872],[140.44165978064905,174.7094491811899],[140.44165978064905,177.5182870718149],[141.00346491887024,178.64180344801682],[141.00346491887024,180.88883620042063],[141.00346491887024,182.57415771484372],[141.00346491887024,184.25947922926682],[141.00346491887024,187.06827016977164],[141.00346491887024,188.7536386343149],[141.00346491887024,189.31534987229563],[141.00346491887024,191.00067138671872],[139.31814340444714,193.2477041391226],[135.9475473257212,194.93302565354563],[133.1387094350962,196.0565420297476],[129.20635516826917,196.61834716796872],[126.39751727764417,196.61834716796872],[124.15043757512024,196.61834716796872],[120.21808330829322,196.61834716796872],[114.60040752704322,196.61834716796872],[108.98273174579322,196.61834716796872],[104.48861929086536,196.0565420297476],[99.43270169771631,195.49478384164664],[92.6915095402644,195.49478384164664],[83.70323768028845,194.3713144155649],[80.89439978966345,194.3713144155649],[77.5238037109375,193.80950927734372],[71.9061279296875,193.2477041391226],[66.85025728665869,193.2477041391226],[64.60317758413464,193.2477041391226],[62.356097881610594,193.2477041391226],[56.738422100360594,193.2477041391226],[46.06487567608178,193.2477041391226],[39.32368351862982,193.2477041391226],[32.020686222956726,193.2477041391226],[28.08833195612982,193.2477041391226],[26.403057391826906,193.2477041391226],[22.47065617487982,193.2477041391226],[18.53830190805286,193.2477041391226],[11.797109750600953,193.2477041391226],[3.370596078725953,193.2477041391226],[-4.494112454927858,193.2477041391226],[-8.426513671875,193.2477041391226],[-8.426513671875,193.2477041391226]],"pressures":[],"simulatePressure":true,"lastCommittedPoint":[-8.426513671875,193.2477041391226]},{"id":"PbFKdnsd8fO9cMkZjXSl5","type":"freedraw","x":-20.051129267766044,"y":134.60292744681868,"width":162.91231595552887,"height":227.51551701472354,"angle":0,"strokeColor":"#e67700","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":20,"groupIds":[],"roundness":null,"seed":1335862223,"version":359,"versionNonce":1893906479,"isDeleted":false,"boundElements":null,"updated":1685545668258,"link":null,"locked":false,"points":[[0,0],[-1.1235163762019056,0],[-2.247032752403811,0],[-3.370596078725953,1.1235633263220848],[-5.055870643028811,1.1235633263220848],[-6.179433969350953,1.6853684645432736],[-8.426466721754764,1.6853684645432736],[-8.988224909855774,1.6853684645432736],[-9.550030048076906,1.6853684645432736],[-10.673546424278811,1.6853684645432736],[-11.797062800480774,1.6853684645432736],[-12.358867938701906,1.6853684645432736],[-12.92057917668268,1.6853684645432736],[-13.482384314903811,1.6853684645432736],[-14.044142503004764,1.6853684645432736],[-15.167658879206726,1.6853684645432736],[-16.852980393629764,1.6853684645432736],[-17.976496769831726,1.6853684645432736],[-17.976496769831726,-1.6852745643029152],[-17.976496769831726,-5.61767578125],[-18.53825495793268,-11.23530461237982],[-18.53825495793268,-15.167658879206726],[-18.53825495793268,-19.100060096153868],[-18.53825495793268,-25.27949406550482],[-18.53825495793268,-26.964768629807736],[-19.10006009615381,-28.650090144230774],[-19.10006009615381,-29.773606520432736],[-19.661818284254764,-32.02063927283655],[-19.661818284254764,-33.70600773737982],[-19.661818284254764,-37.63831505408655],[-19.661818284254764,-39.32363656850964],[-20.223576472355774,-41.57071627103369],[-20.785334660456726,-45.503070537860594],[-20.785334660456726,-48.311908428485594],[-20.785334660456726,-49.99722994290869],[-20.785334660456726,-52.80606783353369],[-20.785334660456726,-56.17666391225964],[-20.785334660456726,-59.547259990985594],[-20.785334660456726,-64.04137244591345],[-19.661818284254764,-67.9737736628606],[-18.53825495793268,-73.59140249399042],[-18.53825495793268,-74.7149658203125],[-18.53825495793268,-75.83848219651446],[-15.72941706730768,-75.27672400841345],[-14.605900691105774,-70.7826115534856],[-14.605900691105774,-66.85021033653845],[-14.044142503004764,-65.1649357722356],[-14.044142503004764,-64.60317758413464],[-14.044142503004764,-65.72664701021637],[-11.797062800480774,-68.53548490084137],[-7.864708533653811,-75.27672400841345],[-1.1235163762019056,-88.19732666015625],[5.61767578125,-102.80329777644232],[7.864755483774047,-107.85916841947119],[8.426513671875,-108.42097355769232],[8.988271859975953,-105.61213566706732],[8.988271859975953,-101.11799973707934],[8.988271859975953,-88.75913179837744],[8.988271859975953,-70.22080641526446],[8.988271859975953,-53.36782602163464],[8.988271859975953,-39.32363656850964],[8.988271859975953,-38.76187838040869],[8.988271859975953,-40.44715294471155],[8.988271859975953,-41.57071627103369],[10.111835186298094,-46.06482872596155],[13.482431265024047,-57.8619384765625],[18.538301908052915,-74.15316068209137],[23.032461313100953,-88.75913179837744],[27.526573768028868,-101.11799973707934],[29.773653470552915,-106.73565204326923],[30.335411658653868,-105.61213566706732],[23.59426645132214,-87.07383375901446],[17.414785531850953,-74.7149658203125],[16.85302734375,-71.9061279296875],[16.85302734375,-71.34432279146637],[16.85302734375,-71.9061279296875],[20.223623422475953,-76.96199857271637],[26.40310434194714,-83.14145601712744],[27.526573768028868,-83.70323768028845],[28.08837890625,-83.70323768028845],[26.964815579927915,-79.20907827524042],[22.470703125,-74.15316068209137],[15.167752779447142,-64.60317758413464],[5.61767578125,-58.98550180288464],[-5.055870643028811,-56.17666391225964],[-13.482384314903811,-56.17666391225964],[-17.976496769831726,-58.42374361478369],[-20.785334660456726,-66.85021033653845],[-21.90889798677881,-80.89439978966345],[-21.90889798677881,-97.18562199519232],[-21.34709284855768,-115.16216571514423],[-19.10006009615381,-127.52103365384619],[-19.10006009615381,-128.08279184194714],[-19.10006009615381,-128.64457350510816],[-19.10006009615381,-122.4651395357572],[-20.223576472355774,-115.16216571514423],[-23.032414362980774,-106.17389385516827],[-24.71773587740381,-101.11799973707934],[-24.71773587740381,-102.24149263822119],[-24.71773587740381,-105.61213566706732],[-23.032414362980774,-112.91508601262018],[-22.470656174879764,-117.40922194260821],[-20.785334660456726,-117.97100360576923],[-20.223576472355774,-115.16216571514423],[-20.223576472355774,-111.2297879732572],[-21.34709284855768,-106.17389385516827],[-24.15593073918268,-100.55621807391827],[-26.403010441706726,-96.62381685697119],[-26.403010441706726,-96.06210561899042],[-26.96476862980768,-96.06210561899042],[-28.088331956129764,-98.30916184645434],[-28.088331956129764,-102.80329777644232],[-28.088331956129764,-107.85916841947119],[-28.088331956129764,-113.47682072566107],[-25.279494065504764,-124.71219576322119],[-24.71773587740381,-125.83573561448316],[-23.594172551081726,-128.08279184194714],[-22.470656174879764,-129.76808988131012],[-19.10006009615381,-134.82400747445914],[-16.29122220552881,-137.63282189002405],[-12.358867938701906,-142.6887394831731],[-8.426466721754764,-146.62109375],[-5.055870643028811,-151.67698786808896],[0.5618051382211888,-158.97996168870193],[2.808837890625,-163.4740976186899],[5.055917593149047,-167.40647536057693],[7.302997295673094,-171.33882962740384],[10.673593374399047,-175.83296555739184],[14.044189453125,-181.45064133864184],[17.414785531850953,-186.50653545673077],[19.661865234375,-191.00067138671875],[20.78542856069714,-194.3712674654447],[21.908944936899047,-198.30362173227164],[23.032461313100953,-200.55070143479568],[23.032461313100953,-201.6742412860577],[23.032461313100953,-202.23599947415866],[23.032461313100953,-202.7977811373197],[24.155977689302915,-205.6065955528846],[26.40310434194714,-208.4154334435096],[27.526573768028868,-211.78602952223557],[27.526573768028868,-212.34778771033655],[28.08837890625,-215.15662560096155],[28.650137094350953,-219.08900334284857],[29.773653470552915,-223.02138108473557],[29.773653470552915,-223.58311579777646],[29.773653470552915,-223.02138108473557],[29.773653470552915,-220.77427790715146],[27.526573768028868,-216.28016545222357],[22.470703125,-205.04483736478366],[15.729510967548094,-191.5624295748197],[10.111835186298094,-178.08004525991586],[6.741239107572142,-166.2829355093149],[2.808837890625,-156.17112379807693],[2.808837890625,-154.48582575871396],[2.247079702524047,-153.92406757061298],[1.6853215144230944,-152.23876953125],[0.5618051382211888,-148.30639178936298],[-1.6852276141826792,-143.812255859375],[-4.494065504807679,-137.63282189002405],[-5.617628831129764,-135.94752385066107],[-6.179433969350953,-133.7004676231971],[-6.179433969350953,-133.13868596003607],[-6.741192157451906,-130.89162973257214],[-8.426466721754764,-126.39749380258417],[-10.11174128605768,-123.58865591195917],[-11.235304612379764,-121.90335787259619],[-12.92057917668268,-117.97100360576923],[-14.044142503004764,-115.16216571514423],[-16.852980393629764,-107.2974337064303],[-17.976496769831726,-106.17389385516827],[-17.976496769831726,-104.4885958158053],[-19.661818284254764,-100.55621807391827],[-20.785334660456726,-97.18562199519232],[-22.470656174879764,-94.93856576772839],[-23.594172551081726,-92.69148606520434],[-24.15593073918268,-90.44442983774042],[-25.279494065504764,-88.75913179837744],[-26.403010441706726,-84.26499586838946],[-26.96476862980768,-80.33261812650244],[-27.526526817908632,-77.5238037109375],[-27.526526817908632,-75.83848219651446],[-28.088331956129764,-74.7149658203125],[-28.088331956129764,-73.02964430588946],[-28.088331956129764,-71.34432279146637],[-28.650090144230774,-69.0972900390625],[-30.335364708533632,-66.2884521484375],[-31.458928034855774,-62.356097881610594],[-32.020686222956726,-60.6707763671875],[-33.14420259915863,-57.30013333834137],[-33.14420259915863,-53.929584209735594],[-33.14420259915863,-52.244309645432736],[-33.14420259915863,-49.99722994290869],[-33.14420259915863,-48.311908428485594],[-33.705960787259585,-47.18839205228369],[-33.705960787259585,-43.817795973557736],[-33.705960787259585,-40.44715294471155],[-34.267765925480774,-36.51484562800482],[-34.267765925480774,-34.82947716346155],[-34.267765925480774,-31.458928034855774],[-34.267765925480774,-28.08833195612982],[-34.267765925480774,-25.841252253605774],[-34.267765925480774,-23.594172551081726],[-34.267765925480774,-22.47065617487982],[-34.267765925480774,-21.908897986778868],[-34.267765925480774,-20.223576472355774],[-34.267765925480774,-19.66181828425482],[-34.829524113581726,-19.100060096153868],[-37.076603816105774,-19.100060096153868],[-38.76187838040863,-19.100060096153868],[-39.88539475661054,-26.964768629807736],[-39.88539475661054,-30.335411658653868],[-39.88539475661054,-32.582444411057736],[-39.88539475661054,-34.267765925480774],[-39.88539475661054,-36.51484562800482],[-39.88539475661054,-38.200120192307736],[-39.88539475661054,-41.008958082932736],[-38.76187838040863,-43.25599083533655],[-38.2000732421875,-44.94131234975964],[-38.2000732421875,-45.503070537860594],[-37.638362004206726,-45.503070537860594],[-37.076603816105774,-45.503070537860594],[-36.514798677884585,-45.503070537860594],[-35.95304048978363,-44.37955416165869],[-35.95304048978363,-41.008958082932736],[-35.95304048978363,-37.076603816105774],[-35.95304048978363,-32.582444411057736],[-35.95304048978363,-29.211801382211547],[-35.3912353515625,-26.964768629807736],[-35.3912353515625,-25.841252253605774],[-35.3912353515625,-24.155977689302915],[-35.3912353515625,-22.47065617487982],[-35.3912353515625,-20.785334660456726],[-35.3912353515625,-18.538301908052915],[-34.829524113581726,-17.976496769831726],[-34.267765925480774,-17.414738581730774],[-34.267765925480774,-16.291222205528868],[-34.267765925480774,-14.605900691105774],[-33.705960787259585,-13.482384314903868],[-33.705960787259585,-10.111788236177915],[-33.14420259915863,-7.302950345552915],[-33.14420259915863,-4.494112454927915],[-32.020686222956726,-0.5617581881010096],[-31.458928034855774,1.1235633263220848],[-30.335364708533632,3.370596078725953],[-29.7735595703125,3.9324012169470848],[-29.211848332331726,3.9324012169470848],[-26.403010441706726,2.808837890625],[-16.29122220552881,-0.5617581881010096],[6.741239107572142,-6.741145207331726],[15.729510967548094,-8.42646672175482],[35.391329251802915,-10.673546424278868],[44.37960111177887,-11.79710975060101],[50.55903508112988,-11.79710975060101],[55.053147536057736,-12.358820988581726],[64.04141939603369,-14.04414250300482],[71.90617487980774,-15.729464017427915],[81.45620492788464,-15.729464017427915],[89.88271859975964,-15.729464017427915],[95.5003474308894,-15.729464017427915],[100.55626502403845,-15.729464017427915],[103.36510291466345,-15.729464017427915],[105.05037747896631,-15.729464017427915],[107.29745718149036,-15.729464017427915],[107.85921536959131,-15.729464017427915],[110.10629507211536,-15.729464017427915],[111.22981144831726,-15.729464017427915],[110.66805326021631,-15.729464017427915],[105.6121826171875,-15.729464017427915],[88.7591552734375,-15.729464017427915],[47.75019719050488,-15.729464017427915],[41.009005033052915,-15.729464017427915],[37.076603816105774,-15.729464017427915],[35.95308743990387,-19.100060096153868],[42.694279597355774,-24.155977689302915],[60.670823317307736,-34.82947716346155],[71.34441669170678,-39.885441706730774],[71.90617487980774,-40.44715294471155],[70.22085336538464,-41.57071627103369],[65.72674091045678,-41.57071627103369],[62.917949969951906,-41.57071627103369],[62.35614483173083,-41.57071627103369],[62.35614483173083,-43.817795973557736],[64.60317758413464,-49.435471754807736],[67.41201547475964,-53.929584209735594],[68.53557880108178,-56.738422100360594],[68.53557880108178,-57.30013333834137],[66.28849909855774,-60.6707763671875],[62.35614483173083,-60.6707763671875],[55.053147536057736,-60.6707763671875],[45.503117487980774,-60.6707763671875],[44.94135929987982,-61.23253455528845],[44.94135929987982,-62.356097881610594],[46.06492262620196,-66.85021033653845],[51.682598407451906,-77.5238037109375],[56.73846905048083,-86.51205209585339],[56.73846905048083,-87.63559194711542],[56.73846905048083,-88.19732666015625],[56.73846905048083,-89.32088998647839],[56.73846905048083,-90.44442983774042],[56.73846905048083,-91.56796968900244],[56.73846905048083,-93.25326772836542],[56.73846905048083,-96.62381685697119],[57.300274188701906,-98.30916184645434],[57.300274188701906,-103.36505596454327],[57.300274188701906,-112.91508601262018],[57.300274188701906,-124.15043757512018],[57.300274188701906,-133.7004676231971],[57.300274188701906,-137.63282189002405],[57.300274188701906,-138.19460355318512],[57.300274188701906,-143.812255859375],[57.300274188701906,-149.429931640625],[57.300274188701906,-151.11522967998798],[56.73846905048083,-156.17112379807693],[56.73846905048083,-164.03585580679086],[56.73846905048083,-171.33882962740384],[56.73846905048083,-177.51826359675482],[56.73846905048083,-184.25947922926684],[56.73846905048083,-190.4389131986178],[56.73846905048083,-196.61834716796875],[56.73846905048083,-205.04483736478366],[57.300274188701906,-209.53894981971155],[57.300274188701906,-210.1007314828726],[57.861985426682736,-210.66251314603366],[59.54730694110583,-210.66251314603366],[61.23258150540869,-210.1007314828726],[66.85025728665869,-205.04483736478366],[71.90617487980774,-199.9889432466947],[76.4002873347356,-195.49478384164664],[84.26504281850964,-187.06829364483173],[91.00623497596155,-180.32710148737982],[95.5003474308894,-173.5859093299279],[97.74742713341345,-169.0917733999399],[99.9945068359375,-163.4740976186899],[102.24158653846155,-157.29466364933896],[102.24158653846155,-156.73290546123798],[102.24158653846155,-153.36230938251202],[102.8033447265625,-151.11522967998798],[103.36510291466345,-146.62109375],[104.48861929086536,-141.00344144381012],[105.6121826171875,-135.38576566256012],[107.29745718149036,-133.13868596003607],[107.85921536959131,-130.3298715444712],[108.4210205078125,-128.08279184194714],[108.98277869591345,-125.27395395132214],[111.22981144831726,-119.6563016451322],[111.79161658653845,-116.8474637545072],[111.79161658653845,-116.28570556640625],[113.47689115084131,-114.60040752704327],[114.03864933894226,-113.47682072566107],[114.03864933894226,-112.91508601262018],[115.72397085336536,-112.35332782451923],[116.84748722956726,-112.35332782451923],[117.40924541766833,-111.79156963641827],[119.09456693209131,-110.1062715970553],[121.34164663461536,-107.85916841947119],[122.46516301081726,-106.17389385516827],[123.02692119891833,-106.17389385516827],[123.02692119891833,-106.17389385516827]],"pressures":[],"simulatePressure":true,"lastCommittedPoint":[123.02692119891833,-106.17389385516827]},{"id":"nNusEjhf","type":"text","x":120.39062441312336,"y":-91.23899619350584,"width":316.4437819260817,"height":56.15549127705046,"angle":0,"strokeColor":"#e67700","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"roundness":null,"seed":233268801,"version":275,"versionNonce":1925636321,"isDeleted":false,"boundElements":null,"updated":1685545729413,"link":null,"locked":false,"text":"Quest'area rappresenta la probabilità che\nil debitore resti nella sua fascia.\n","rawText":"Quest'area rappresenta la probabilità che\nil debitore resti nella sua fascia.\n","fontSize":15.177159804608229,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":50.15549127705046,"containerId":null,"originalText":"Quest'area rappresenta la probabilità che\nil debitore resti nella sua fascia.\n"},{"id":"UZI7hbqJZ1bxdCJB23lfN","type":"freedraw","x":256.89988297682527,"y":12.13778791106148,"width":0.0001,"height":0.0001,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"roundness":null,"seed":1096755297,"version":4,"versionNonce":648496161,"isDeleted":true,"boundElements":null,"updated":1685545645580,"link":null,"locked":false,"points":[[0,0],[0.0001,0.0001]],"pressures":[],"simulatePressure":true,"lastCommittedPoint":[0.0001,0.0001]}],"appState":{"theme":"light","viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#e67700","currentItemBackgroundColor":"transparent","currentItemFillStyle":"hachure","currentItemStrokeWidth":1,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","scrollX":485.6503829956055,"scrollY":254.18351171521556,"zoom":{"value":1.3},"currentItemRoundness":"round","gridSize":null,"colorPalette":{}},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("Modello_CreditMetrix_2023-05-31_1706.04.excalidraw.md2");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>
![Pasted image 20230531171144.png](/img/user/Credit%20Risk%20_site/allegati/Pasted%20image%2020230531171144.png)
L'azienda va in default se osservo rendimenti inferiori a $Z_d$, va in fascia C se osservo rendimenti tra $Z_D$ e $Z_c$ e così via.
In base alla probabilità data falla matrice di transizione noi calcoliamo i valori delle $Z$.
Ad esempio per sapere dove si colloca $Z_d$ non dobbiamo fare altro che trovare quel valore che fa sì che l'integrale da -infinito a $Z_d$ dia come probabilità quella che l'azienda finisca nel rating $D$. Così anche per tutti gli altri valori di $Z$.
![Pasted image 20230531173744.png|400](/img/user/Credit%20Risk%20_site/allegati/Pasted%20image%2020230531173744.png)

Questa operazione si può fare anche analizzando i rendimenti congiunti.
Posizionando in un diagramma i vari valori delle $Z$ possiamo costruire una sorta di griglia che suddivide le coppie di rendimenti in relazione ad una coppia di rating futuro.
Se ad esempio si osserva una coppia di rendimenti (pallino rosso in alto a destra) sapremo che il rating congiunto delle esposizioni sarà superiore a $(Z_b;Z_b)$ in quanto siamo in quella parte della griglia, valori superiori a $Z_b$ corrispondono a classe di rating $(A;A)$.
Per il pallino centrale invece il rating corrisponderà a $(B;B)$.
Per il pallino in alto a sinistra avremo $(D;A)$.
![Pasted image 20230531171848.png](/img/user/Credit%20Risk%20_site/allegati/Pasted%20image%2020230531171848.png)

Conoscere la distribuzione congiunta dei rendimenti implica che al rettangolo giallo è possibile attribuire una probabilità congiunta semplicemente calcolandone il volume (dobbiamo immaginarlo come una funzione tridimensionale), sappiamo quindi la probabilità di avere congiuntamente un rating $(B;B)$.
![Pasted image 20230531172013.png|400](/img/user/Credit%20Risk%20_site/allegati/Pasted%20image%2020230531172013.png)
Dobbiamo immaginare di avere il rettangolo sul piano base e di voler calcolare tutta l'area al di sopra di esso, abbiamo così la probabilità congiunta.
![Pasted image 20230531173247.png|200](/img/user/Credit%20Risk%20_site/allegati/Pasted%20image%2020230531173247.png)
Matematicamente quest'area si calcola come un doppio integrale calcolato sul rettangolo giallo.
![Pasted image 20230531174845.png](/img/user/Credit%20Risk%20_site/allegati/Pasted%20image%2020230531174845.png)
Possiamo quindi costruire una tabella che riporta le probabilità congiunte.
In questo caso sono quelle congiunte tra un'azienda $BBB$ e una $A$, quindi rappresenta la probabilità che esse contemporaneamente finiscano in altre classi dopo 1 anno.
<div id="Modello_CreditMetrix_2023-05-31_1752.46.excalidraw.md3"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://excalidraw.com","elements":[{"id":"71dN7wkdIuyBWC8jCjNAb","type":"image","x":-275.02558000661105,"y":-18.573832738818993,"width":588.0921365875821,"height":283.92980447634415,"angle":0,"strokeColor":"transparent","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"roundness":null,"seed":1807936815,"version":5,"versionNonce":288234721,"isDeleted":false,"boundElements":null,"updated":1685548420733,"link":null,"locked":false,"status":"pending","fileId":"02f9cd138f7d8d82ff2b02ac8f80b1b5a350e303","scale":[1,1]},{"id":"9W_yCPuP2RNPsOFdNQnbf","type":"rectangle","x":-148.28426785191448,"y":67.68583201910232,"width":429.991625530359,"height":21.931568483653734,"angle":0,"strokeColor":"#d9480f","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"roundness":{"type":3},"seed":1715495951,"version":113,"versionNonce":760569953,"isDeleted":false,"boundElements":null,"updated":1685548426939,"link":null,"locked":false},{"id":"N_j9_VGn4Ura6X_d7OWcR","type":"rectangle","x":-197.46412344681517,"y":92.27575981655269,"width":43.86313696730747,"height":158.1731151277089,"angle":0,"strokeColor":"#d9480f","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"roundness":{"type":3},"seed":91755055,"version":65,"versionNonce":2142279215,"isDeleted":false,"boundElements":null,"updated":1685548432838,"link":null,"locked":false},{"id":"Q9uPVX58","type":"text","x":-255.28366764052123,"y":263.38044342791534,"width":521,"height":25,"angle":0,"strokeColor":"#d9480f","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"roundness":null,"seed":32401473,"version":56,"versionNonce":1590094255,"isDeleted":false,"boundElements":null,"updated":1685548452410,"link":null,"locked":false,"text":"Probabilità prese dalla singola matrice di transizione","rawText":"Probabilità prese dalla singola matrice di transizione","fontSize":20,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":18,"containerId":null,"originalText":"Probabilità prese dalla singola matrice di transizione"},{"id":"DPsvbNj9PbNgMJWJ8fspS","type":"image","x":-376.40621988396896,"y":-95.92632293701172,"width":720.2105263157895,"height":308,"angle":0,"strokeColor":"transparent","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"roundness":null,"seed":1205476545,"version":5,"versionNonce":891311457,"isDeleted":true,"boundElements":null,"updated":1685548415042,"link":null,"locked":false,"status":"pending","fileId":"4f0cadf5c7486c43130252102c25964b8c693511","scale":[1,1]}],"appState":{"theme":"light","viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#d9480f","currentItemBackgroundColor":"transparent","currentItemFillStyle":"hachure","currentItemStrokeWidth":2,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","scrollX":694.4550699234368,"scrollY":184.2468268272495,"zoom":{"value":1.0988631523746728},"currentItemRoundness":"round","gridSize":null,"colorPalette":{}},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("Modello_CreditMetrix_2023-05-31_1752.46.excalidraw.md3");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>
Quindi se noi:
- Calcoliamo il valore di ogni singola esposizione ad 1 anno per ogni scenario possibile
- Sommiamo i valori ottenuti per ogni esposizione
Troviamo il valore di portafoglio, ciascun valore con una probabilità che si verifichi pari a quella riportata in matrice.
![Pasted image 20230531180051.png](/img/user/Credit%20Risk%20_site/allegati/Pasted%20image%2020230531180051.png)
![[Esercizio Credit Metrics indipendenza e supporto.mp4]]
Questo ragionamento utilizzando il *metodo costruttivo* nel bivariato può essere esteso anche nel multivariato:
1. Si prendono in considerazione rendimenti attesi, varianze e correlazioni di più aziende.
2. Dall'andamento congiunto dei rendimenti azionari si desume l'andamento congiunto dei rating dei vari debitori.
3. Dalle transizioni congiunte si ottiene la distribuzione di probabilità congiunta della somma delle varie esposizioni.

Questo metodo è camputazionalmente molto pesante in quanto avremmo a che fare con un supporto potenzale dato da $n_r^m$, ovvero dal numero di classi di rating elevato al numero di debitori, che di solito sono migliaia.

Di conseguenza i passaggi 2 e 3 sono sostituiti da una *simulazione Montecarlo.*
Il problema è che quando applichiamo il metodo Montecarlo noi stiamo facendo simulazioni indipendenti tra loro, quando dovrebbero essere dipendenti.
Ci viene in aiuto un teorema che dice che partendo da due variabili Normali indipendenti $Z_1$ e $Z_2$ possiamo ottenere una Normale bivariata con una certa media e, soprattutto, una certa matrice di covarianze (quindi una certo grado di correlazione tra le estrazioni casuali precedenti anche se indipendenti).
La matrice che usiamo per questa trasformazione è chiamata [[Credit Risk _site/permalink/Matrice decomposizione di Cholesky\|Matrice decomposizione di Cholesky]]
Partiremo quindi da simulazioni indipendenti di $Z$ per poi usare le opportune trasformazioni ed ottenere la normale bivariata.
![Pasted image 20230531183819.png](/img/user/Credit%20Risk%20_site/allegati/Pasted%20image%2020230531183819.png)

Applicheremo come di consueto il metodo Montecarlo ma ponendo attenzione alla fase iniziale di generazione dei numeri casuali perché se li vogliamo dipendenti bisogna effettuare la trasformazione vista prima.
![[Esercizio Credit Metrics creazione normale bivariata dipendente.mp4]]

Una volta trasformati i valori si può assegnare ad ogni simulazione un rating
![[Esercizio Credit Metrics assegnazione rating.mp4]]